<!--To load the Django library to translate your text.-->
{% load i18n %}
{% load static %}

<!doctype html>
<html lang="en">

<!-- Bootstrap CSS --> <!--Esto é o css qie está cargado en internet. Se te fixas é unha stylesheet onde todos os formatos css-->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<!--Esto utilízase para imprimir as mensaxes de que a sesión foi iniciada con éxito-->
<div id="content" class="mt-5 fixed-top">
	{% if messages %}
	{% for m in messages %}
	<!--Esto é para que me imprima solo a última mensaxe das alertas que é a que se corresponde coa mensaxe de sucess-->
	<!--As Primeriras mensaxes son relativas a errores que pudo haber no formulario de sign in-->
	  {% if forloop.last %}
	  <div class="alert alert-{{ m.tags }} m-2 mt-1" id="msg" role="alert">
		<!--Esto é para que mostre un botón que permita pechar a mensaxe que se mostra-->
		<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
		<strong>{{ m }}</strong>
	  </div>
	  {% endif %}
	{% endfor %}
  {% endif %}
  </div>
  <!--Eiqui estou decindo canto tempo ten que estar a alerta unha vez que se completou a acción-->
  <!--O 9000 está a endicar o tempo que está a alerta visible. Despois a alerta desaparece.-->
  <script>
	setTimeout(function(){
		if ($('#msg').length > 0) {
			$('#msg').remove();
		}
	}, 7000)
  </script>

<style>
/* Con esto doulle formato á mensaxe de error xa que por defecto non ten formato*/
.alert-error {
    color: #721c24;
    background-color: #f8d7da;
    border-color: #f5c6cb;
    position:absolute;
    position: sticky;
    top: 0
    }
/*Esto é para darlle formato ao botón da cruz que pecha a alerta da mensaxe de error*/
.alert-error .close {
	position: absolute;
	top: 0;
	right: 5px;
	padding: 5px;
	background-color: transparent;
	border: none;
	outline: none;
	cursor: pointer;
	font-size: 30px; /* Adjust the font size as needed */
    }
/*Esto é para darlle formato ao botón da cruz que pecha a alerta do mensxe de success*/
.alert-success .close {
	position: absolute;
	top: 0;
	right: 5px;
	padding: 5px;
	background-color: transparent;
	border: none;
	outline: none;
	cursor: pointer;
	font-size: 30px; /* Adjust the font size as needed */
    }
li{
	list-style-type: none;
	}
body {
    background-color: black;
    margin-top: 0;
    margin-bottom: 0;
    height: auto;
	overflow-x: hidden;
/*Con esto o que conseguín foi que o footer esté sempre ao fondo da pantalla indendentemente se é grande ou máis pequena*/
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
#button_area_persoal {
    color: rgb(83, 158, 138);
    border-color: rgb(83, 158, 138);  
}
#button_area_persoal:hover {
    color: white;
    background-color: rgb(83, 158, 138);
}
#button_rexistro {
    color: rgb(246, 158, 138);
    border-color: rgb(246, 158, 138);
}
#button_rexistro:hover {
    color: white;
    background-color: rgb(246, 158, 138);
}
#button_postcomment {
    color: white;
    background-color: rgb(83, 158, 138);
}
#button_postcomment:hover {
    background-color: rgb(246, 158, 138);
}
/*Esto é para cabmiar o color do toggler button (ou tamén chamado hamburguesa). Para cambiar o icono (as ralliñas), como é un svg teño que pillarme a ruta da imaxe e despois
no STROKE configuro o color que me parece. O díxito final é a transparecia que lle queiras aplicar*/
.navbar-toggler-icon {
    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(246,197,190, 1)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E");
}
/*E esto é para cambiar o borde do botón. Neste caso, como non é unha imaxe svg, incido sobre o elemento do css*/
.navbar-toggler{
    border: 1px solid rgb(246, 158, 138);
}
#personal_data_section{
	background-color: #28231D;
	color: white;
}
#access_data_section{
	background-color: #28231D;
	color: white;
}
#delete_account_section{
	background-color: #28231D;
	color: white;
}
#navigation_personal_area_section{
	background-color: #28231D;
	color: white;
}
/*Esto é para darlle formato ao botón de pechar a ventana emerxente do modal de eliminar a conta*/
.modal-header .close {
	position: absolute;
	color: white;
	top: -10px;
	right: 0;
	padding: 10px;
	background-color: transparent;
	border: none;
	outline: none;
	cursor: pointer;
	font-size: 40px; /* Adjust the font size as needed */
    }
/*Estes botós son os botós para actualizar a información persoal*/
#update_personal_data_button {
	color: white;
	background-color: rgb(83, 158, 138);
	}
#update_personal_data_button:hover {
	background-color: rgb(246, 158, 138);
	}
/*Estes botós son os botós para actualizar a password*/
#update_password_button {
	color: white;
	background-color: rgb(83, 158, 138);
	}
#update_password_button:hover {
	background-color: rgb(246, 158, 138);
	}
</style>

{% include 'base/nav_bar.html' %}

<section class="py-5 my-5">
	<div class="container">
		<div class="bg-white shadow rounded-lg d-block d-sm-flex">
			<div class="profile-tab-nav border-right" id="navigation_personal_area_section">
				<div class="p-4">
					<h4 class="text-center">{{request.user.email}}</h4>
				</div>
				<ul class="nav nav-pills">
					<li class="nav-item">
					  <a class="nav-link active" href="{% url 'personal_data' %}">Home</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" href="{% url 'password' %}">Profile</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" href="https://www.example.com/messages">Messages</a>
					</li>
				  </ul>
				
				<!--<div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical" tyle="background-color: #28231D;">
					<a class="nav-link active" id="account-tab" href="{% url 'personal_data' %}" role="tab" aria-controls="account" aria-selected="true" style="color: white;">
						{% trans "Personal Data" %}
					</a>
					<a class="nav-link" id="account-tab" href="{% url 'password' %}" role="tab" aria-controls="account" aria-selected="false" style="color: white;">
						{% trans "Password" %}
					</a>
					<a class="nav-link" id="notification-tab" href="{% url 'delete_account' %}" role="tab" aria-controls="notification" aria-selected="false" id="delete_account" style="color: white;">
						{% trans "Delete your account!" %}
					</a>-->
					
					<!--<a class="nav-link" id="security-tab" href="http://127.0.0.1:8000/account/order/" role="tab" aria-controls="security" aria-selected="false">
						<i class="fa fa-user text-center mr-1"></i> 
						{% trans "Order Status" %}
					</a>
					<a class="nav-link" id="notification-tab" href="{% url 'returns' %}" role="tab" aria-controls="notification" aria-selected="false">
						<i class="fa fa-bell text-center mr-1"></i> 
						{% trans "Returns" %}
					</a>-->
				</div>
			</div>
			{% block content %} 
			{% endblock content %}
		</div>
	</div>
</section>

{% include 'base/footer.html' %}
</html>

<!--Esto son as scripts para que os diferentes elementos de bootstrap funcionen: carousel, botóns, cuadros de texto...-->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<!--Con esto funcionache o botón da navbar cando a pantalla é pequena. Sen esto o botón da navbar non funciona-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	

    


